<div id="slider">
    <div class="text-content">
        <h1 class="text-heading">BikeShare</h1>
        <div class="text-decription">Because bikes don't need fuel to run.</div>
    </div>
</div>

<div id="content">
    <!-- begin introduce -->
    <div class="content-section">
        <h2 class="section-heading">INTRODUCE</h2>
        <p class="about-text">Vancouver Bike Share is proud to have Shaw Communications as our system-wide
            presenting partner of Mobi by Shaw Go. With common values and practices of community, connectivity and
            smart technology, Shaw and Mobi by Shaw Go are providing Vancouver with an easy, convenient and fun way
            to get around and explore.</p>
        <img src="./css/img/slider/slider3.jpg" alt="" class="introduce-img">
    </div>
    <!-- end introduce -->

    <!-- begin "how it works" -->
    <div class="section-2">
        <h2 class="section-heading">How it work</h2>
        <div class="item">
            <img src="./css/img/slider/phone.png" alt="" class="phone">
            <p class="about-item">REGISTER</p>
            <p class="about-item-2">Create an Account</p>
            <p class="guide">Acess to our webside and log in</p>
        </div>

        <div class="item">
            <img src="./css/img/slider/ride.png" alt="" class="ride">
            <p class="about-item">RIDE</p>
            <p class="about-item-2">Check out a bike</p>
            <p class="guide">Use our webside to tracking, find station</p>
        </div>

        <div class="item">
            <img src="./css/img/slider/xedap.png" alt="" class="xedap">
            <p class="about-item">RETURN</p>
            <p class="about-item-2">Click into rack</p>
            <p class="guide">Return to our station and pay</p>
        </div>
    </div>
    <!-- end how it works -->

    <!-- begin map -->
    <div class="text-map">
        <h2 class="first-line">Find Bikes and Stations</h2>
        <div class="btnsearch">
            <button>Search</button>
        </div>
        <div class="search">
            <select id="slPlaceTypes" onchange="TimDiaDiem(this.value)">
                <option "">Choose a place type</option>
                <option value="accounting">accounting</option>
                <option value="airport">airport</option>
                <option value="amusement_park">amusement_park</option>
                <option value="aquarium">aquarium</option>
                <option value="art_gallery">art_gallery</option>
                <option value="atm">atm</option>
                <option value="bakery">bakery</option>
                <option value="bank">bank</option>
                <option value="bar">bar</option>
                <option value="beauty_salon">beauty_salon</option>
                <option value="bicycle_store">bicycle_store</option>
                <option value="book_store">book_store</option>
                <option value="bowling_alley">bowling_alley</option>
                <option value="bus_station">bus_station</option>
                <option value="cafe">cafe</option>
                <option value="campground">campground</option>
                <option value="car_dealer">car_dealer</option>
                <option value="car_rental">car_rental</option>
                <option value="car_repair">car_repair</option>
                <option value="car_wash">car_wash</option>
                <option value="casino">casino</option>
                <option value="cemetery">cemetery</option>
                <option value="church">church</option>
                <option value="city_hall">city_hall</option>
                <option value="clothing_store">clothing_store</option>
                <option value="convenience_store">convenience_store</option>
                <option value="courthouse">courthouse</option>
                <option value="dentist">dentist</option>
                <option value="department_store">department_store</option>
                <option value="doctor">doctor</option>
                <option value="drugstore">drugstore</option>
                <option value="electrician">electrician</option>
                <option value="electronics_store">electronics_store</option>
                <option value="embassy">embassy</option>
                <option value="fire_station">fire_station</option>
                <option value="florist">florist</option>
                <option value="funeral_home">funeral_home</option>
                <option value="furniture_store">furniture_store</option>
                <option value="gas_station">gas_station</option>
                <option value="gym">gym</option>
                <option value="hair_care">hair_care</option>
                <option value="hardware_store">hardware_store</option>
                <option value="hindu_temple">hindu_temple</option>
                <option value="home_goods_store">home_goods_store</option>
                <option value="hospital">hospital</option>
                <option value="insurance_agency">insurance_agency</option>
                <option value="jewelry_store">jewelry_store</option>
                <option value="laundry">laundry</option>
                <option value="lawyer">lawyer</option>
                <option value="library">library</option>
                <option value="light_rail_station">light_rail_station</option>
                <option value="liquor_store">liquor_store</option>
                <option value="local_government_office">local_government_office</option>
                <option value="locksmith">locksmith</option>
                <option value="lodging">lodging</option>
                <option value="meal_delivery">meal_delivery</option>
                <option value="meal_takeaway">meal_takeaway</option>
                <option value="mosque">mosque</option>
                <option value="movie_rental">movie_rental</option>
                <option value="movie_theater">movie_theater</option>
                <option value="moving_company">moving_company</option>
                <option value="museum">museum</option>
                <option value="night_club">night_club</option>
                <option value="painter">painter</option>
                <option value="park">park</option>
                <option value="parking">parking</option>
                <option value="pet_store">pet_store</option>
                <option value="pharmacy">pharmacy</option>
                <option value="physiotherapist">physiotherapist</option>
                <option value="plumber">plumber</option>
                <option value="police">police</option>
                <option value="post_office">post_office</option>
                <option value="primary_school">primary_school</option>
                <option value="real_estate_agency">real_estate_agency</option>
                <option value="restaurant">restaurant</option>
                <option value="roofing_contractor">roofing_contractor</option>
                <option value="rv_park">rv_park</option>
                <option value="school">school</option>
                <option value="secondary_school">secondary_school</option>
                <option value="shoe_store">shoe_store</option>
                <option value="shopping_mall">shopping_mall</option>
                <option value="spa">spa</option>
                <option value="stadium">stadium</option>
                <option value="storage">storage</option>
                <option value="store">store</option>
                <option value="subway_station">subway_station</option>
                <option value="supermarket">supermarket</option>
                <option value="synagogue">synagogue</option>
                <option value="taxi_stand">taxi_stand</option>
                <option value="tourist_attraction">tourist_attraction</option>
                <option value="train_station">train_station</option>
                <option value="transit_station">transit_station</option>
                <option value="travel_agency">travel_agency</option>
                <option value="university">university</option>
                <option value="veterinary_care">veterinary_care</option>
                <option value="zoo">zoo</option>
            </select>
        </div>
        <div id="map">
            <!-- search botton -->


            <!-- end search botton -->
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1862.3448654929387!2d105.84250577590868!3d21.005070846485644!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135ad591575f7bb%3A0x28c483c5b1697381!2zQ-G7lW5nIFBhcmFib2wgLSDEkOG6oWkgSOG7jWMgQsOhY2ggS2hvYSBIw6AgTuG7mWk!5e0!3m2!1svi!2s!4v1639685691246!5m2!1svi!2s"
                width="100%" height="150%" style="border:0;" allowfullscreen="" loading="lazy">
            </iframe>

        </div>
    </div>
</div>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAtdTWAUA78Q0bf5FaWF1o5ABbIvWkjXCE&libraries=places&callback=showMap">
</script>
<script type="text/javascript">
var bando = null;
var lat = 0;
var long = 0;
var infowindow = null;
var arrMarkers = [];

function TimDiaDiem(loaidiadiem) {
    if (!loaidiadiem || loaidiadiem == "") return;
    var req = {
        location: {
            lat: lat,
            lng: long
        }, // trung tam vung tim kiem
        radius: 1000, // ban kinh tim kiem (m)
        type: loaidiadiem // loai dia diem can tim 
    }
    var service = new google.maps.places.PlacesService(bando);
    service.nearbySearch(req, function (result, status) {
        if (status == google.maps.places.PlacesServiceStatus.OK && result && result.length > 0) {
            for (var i in arrMarkers)
                arrMarkers[i].setMap(null);
            arrMarkers = [];
            for (var i in result) {
                var place = result[i];
                console.log(place);
                var ico = {
                    url: place.icon,
                    size: new google.maps.Size(70, 70),
                    origin: new google.maps.Point(0, 0),
                    anchor: new google.maps.Point(0, 0),
                    scaledSize: new google.maps.Size(25, 25),
                }
                var marker = new google.maps.Marker({
                    map: bando,
                    icon: ico,
                    title: place.name,
                    content: '<strong>' + place.name + "</strong><br/>" + place.vicinity,
                    position: place.geometry.location,
                    data: place
                });
                google.maps.event.addListener(marker, 'click', function () {
                    infowindow.setContent(this.content);
                    infowindow.open(bando, this);
                    TimDuong(this.data);
                });
                arrMarkers.push(marker);
            }
        }
    });
}
var ddisplay = null;

function TimDuong(place) {
    var dservice = new google.maps.DirectionsService();
    if (ddisplay) ddisplay.setMap(null);
    ddisplay = new google.maps.DirectionsRenderer();
    ddisplay.setMap(bando);
    var req = {
        origin: {
            lat: lat,
            lng: long
        },
        destination: place.geometry.location,
        travelMode: "WALKING",
        provideRouteAlternatives: true
    };
    dservice.route(req, function (result, status) {
        if (status == "OK") ddisplay.setDirections(result);
    });
}

function showMap() {
    infowindow = new google.maps.InfoWindow();
    window.navigator.geolocation.getCurrentPosition(function (pos) {
        lat = pos.coords.latitude;
        long = pos.coords.longitude;
        console.log(lat, long);
        bando = new google.maps.Map(document.getElementById('map'), {
            center: {
                lat: lat,
                lng: long
            },
            zoom: 15
        });
        var cp = new google.maps.Marker({
            position: {
                lat: lat,
                lng: long
            },
            map: bando
        });
    });

}
</script>